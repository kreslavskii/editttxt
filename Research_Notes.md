# Журнал исследовательского процесса

**Дата начала:** 2025-11-15
**Задача:** Интеграция и синтез 4 документов по ошибкам пользователей LLM и промпт-инжинирингу

---

## Этап 1: Загрузка и оценка документов

### 1.1 Найденные файлы
✓ noError_with_AI_for_users.md (297 строк)
✓ Error_with_AI_Annual.md (243 строки)
✓ Error_with_AI_1-4_summary.md (126 строк)
✓ Academic_Surveys_on_Prompt_Engineering.md (103 строки)

### 1.2 Токен-бюджет (начальная оценка)
- **Лимит контекста:** ~200,000 токенов
- **Использовано на старте:** 58,707 токенов
- **Доступно:** 141,293 токенов
- **Объём документов:** ~50-60k токенов
- **Статус:** ✓ Объём укладывается, разбивка не требуется

### 1.3 Проверка гипотез
- **H1** (MD вместо PDF снижает риск): ✓ ПОДТВЕРЖДЕНА — текстовый формат загружен без проблем
- **H2** (возможно превышение лимита): ✗ НЕ ПОДТВЕРДИЛАСЬ — общий объём в пределах нормы
- **H3** (MD предпочтительнее, но нужен контроль): ✓ ЧАСТИЧНО — контроль объёма критичен, но текущий объём приемлем

---

## Этап 2: Карта содержания документов

### Документ 1: noError_with_AI_for_users.md
**Тип:** Инструкция для пользователей (популярный стиль)
**Целевая аудитория:** Обычные пользователи, врачи, психологи, PR-менеджеры, студенты
**Структура:**
- Метафора "нейросеть как зеркало языка"
- 10 разделов с практическими рекомендациями
- Акцент на формулировке промптов и итеративной работе
- Примеры хороших/плохих запросов для разных профессий

**Ключевые положения:**
1. LLM отражает язык, а не мыслит как человек
2. Формулировка промпта критична — цель, аудитория, формат, ограничения
3. Итеративная работа: не ждать идеального первого запроса
4. Галлюцинации неизбежны — всегда проверять критичные данные
5. Пользовательская инструкция (Custom Instructions) экономит время
6. Контекст-менеджмент: не смешивать задачи, повторять важные факты
7. Этические рамки: избегать драматизации, манипуляций, запугивания
8. По медицине/праву/финансам — требовать источники и даты

**Сильные стороны:**
- Доступность изложения
- Богатство практических примеров
- Систематизация по профессиональным сценариям
- Акцент на этике и проверяемости

**Слабые стороны:**
- Отсутствие строгой таксономии ошибок
- Нет количественных данных
- Ограниченное покрытие мультимодальности
- Слабое освещение RAG и инструментов

---

### Документ 2: Error_with_AI_Annual.md
**Тип:** Систематический анализ (академический стиль)
**Целевая аудитория:** Исследователи, инженеры, архитекторы систем
**Структура:**
- 9 категорий ошибок пользователей
- Каждая категория: описание → примеры → рекомендации
- Минимальный протокол работы без искажений
- Ссылки на OWASP, NIST, OpenAI, Anthropic, Google

**Ключевые положения:**

**I. Дефекты спецификации:**
- Неоднозначные инструкции ("сделай лучше" без критериев)
- Смешивание задач в одном промпте
- Внутренние противоречия

**II. Структура промпта:**
- Чувствительность к перефразировкам (разрыв best/worst может быть критичным)
- Нарушение структурной дисциплины (смешивание ролей, данных, примеров)
- Перегрузка/дефицит контекста

**III. Дефекты данных:**
- Промпт-инъекции (игнорирование предыдущих инструкций)
- Противоречия между модальностями (текст vs изображение)

**IV. Галлюцинации:**
- Фактические vs верности vs внутренние vs внешние
- Связь с RAG и заземлением
- Чрезмерное обобщение (overgeneralization)

**V. Сервильность и когнитивные предвзятости:**
- Sycophancy (~58% случаев у коммерческих LLM)
- Чрезмерное доверие (объяснения усиливают доверие к ошибочным ответам)
- Confirmation bias
- Availability, anchoring, framing biases
- Чрезмерная уверенность (overconfidence +20-60%)

**VI. Новости и актуальные данные:**
- ~45% ответов о новостях содержат серьёзные ошибки
- Проблемы с цитированием и датировкой

**VII. Безопасность:**
- Наивная интеграция → утечки (кейс EchoLeak)
- PII и секреты в промптах
- Игнорирование реальных атак (jailbreak)

**VIII. Параметры генерации:**
- Неверные ожидания от temperature/top-p
- Избыточные входы
- Отсутствие версионирования

**IX. Рекомендации:**
- Инженерия промптов как дисциплина
- Минимальный протокол: цель→критерий→ограничения→пример→проверка
- Контекст-инжиниринг, вариантность, заземление, безопасность
- Политика нулевой толерантности к ошибкам

**Сильные стороны:**
- Строгая таксономия
- Систематические количественные данные
- Покрытие безопасности и приватности
- Инженерный подход

**Слабые стороны:**
- Академический язык — сложнее для практиков
- Часть данных без методологии (статус "unclear")
- Меньше примеров применения

---

### Документ 3: Error_with_AI_1-4_summary.md
**Тип:** Мета-анализ и реестр фактов
**Целевая аудитория:** Исследователи, методологи
**Структура:**
- Сводный документ S (синтез двух источников K-A и K-B)
- Критериальные сравнения (C1-C5)
- Карта совместимости (пересечения/дополнения/конфликты)
- Реестр фактов [F1-F13] с уровнями верификации
- Вопросы для проверки (Q1-Q6)
- JSON-структура

**Ключевые положения:**

**Ядро практик устойчивости:**
1. Явная постановка цели, критериев, формата
2. Контекст-инжиниринг с каналами (инструкции/факты/примеры) и дедупликацией
3. Принудительное заземление на внешние источники/инструменты
4. Ограничения агентности и защита от инъекций
5. Регрессионные эвальюации и контроль параметров генерации

**Реестр фактов:**
- F1: Объяснения усиливают пере-доверие (supported)
- F3: Перефразировки → "наихудшие" провалы (supported)
- F4: Без RAG растут галлюцинации (supported)
- F5: Контекст-инжиниринг критичен (supported)
- F6: Нуль-клик утечка через письмо (unclear)
- F7: ~45% ошибок в новостях (unclear)
- F8: Галлюцинации неизбежны (unclear)
- F9: Sycophancy ~58% (unclear)
- F10: Переобобщение OR≈4.85 (unclear)
- F11: Best-of-N снижает ошибки (unclear)
- F12: Устаревшие race-adjusted формулы (unclear)
- F13: Изображение в начале промпта (unclear)

**Критериальное сравнение источников:**
- C1 (Корректность): K-A > K-B
- C2 (Полнота): K-A > K-B
- C3 (Структура): K-A > K-B
- C4 (Ясность): K-A = K-B
- C5 (Проверяемость): K-B > K-A

**Сильные стороны:**
- Методологическая строгость
- Явное разделение supported/unclear фактов
- Вопросы для проверки
- JSON-формат для автоматизации

**Слабые стороны:**
- Сложность для неспециалистов
- Нет покрытия промпт-инжиниринга как техник
- Отсутствие примеров применения

---

### Документ 4: Academic_Surveys_on_Prompt_Engineering.md
**Тип:** Обзор академических исследований и вендорских гайдов
**Целевая аудитория:** Исследователи, инженеры, архитекторы
**Структура:**
- Академические обзоры (2022-2025)
- Официальные гайды OpenAI, Anthropic, Google
- Сравнение подходов и возможностей платформ

**Ключевые положения:**

**Академические обзоры:**
1. **Schulhoff et al. (2025) "The Prompt Report":**
   - Таксономия 58 техник промптинга
   - 33 стандартизированных термина
   - Лучшие практики для ChatGPT

2. **Liu et al. (2023):**
   - Фундаментальная парадигма prompt-based learning
   - Математическая формализация
   - Few-shot, zero-shot подходы

3. **Sahoo et al. (2025):**
   - Категоризация по доменам (QA, reasoning)
   - Методологии, use cases, датасеты
   - Анализ сильных/слабых сторон

**OpenAI (ChatGPT/GPT-4):**
- Инструкции в начале, разделители (###, triple quotes)
- Специфичность: формат, стиль, длина, контент
- Итеративная доработка: zero-shot → few-shot → fine-tuning
- Function Calling (2023) → Agents SDK (2025)
- Structured Outputs (strict=true JSON)
- System messages приоритетнее user prompts
- RAG через File Search tool

**Anthropic (Claude):**
- "Be clear and direct"
- Few-shot examples, chain-of-thought
- XML tags / markdown для структуры
- Role/persona через system prompt
- Prompt Generator tool
- Обширная экосистема инструментов: web_search, web_fetch, bash, code executor, memory
- Citations и Search Results
- Agent Skills (модульные sub-agents)
- Model Context Protocol (MCP) — открытый стандарт
- Context Engineering (управление эволюцией контекста)
- Extended Thinking mode
- Длинные системные промпты (Constitution)

**Google (Gemini):**
- Prompt Design Strategies
- Step-by-step input formats
- "Gemini часто работает без промпт-инжиниринга" (но сложные задачи требуют)
- Function calling + tools: Google Search, Maps, Code Execution, File Search, Computer Use
- MCP (заимствован от Anthropic)
- Agent Development Kit (ADK, апрель 2025):
  - Hierarchical multi-agents
  - Planner/executor patterns
  - Интеграция разных моделей
  - Workflow engine
- Интеграция с Google Workspace
- Enterprise assistant orientation

**Сравнительные нюансы:**
- Claude: длинные структурные промпты, строгое следование
- OpenAI: баланс простоты и функциональности
- Gemini: минимизация потребности в промптинге, enterprise-фокус

**Сильные стороны:**
- Систематизация вендорских подходов
- Покрытие инструментов и агентов
- Актуальность (2025)
- Академическая база

**Слабые стороны:**
- Нет связи с таксономией ошибок пользователей
- Ограниченное покрытие безопасности
- Мало количественных данных
- Нет практических примеров применения

---

## Этап 3: Предварительные выводы

### 3.1 Покрытие по направлениям (предварительно)

| Направление | Док 1 | Док 2 | Док 3 | Док 4 | Покрытие |
|-------------|-------|-------|-------|-------|----------|
| **Таксономия ошибок** | ⚠️ | ✓✓ | ✓✓ | — | Хорошее |
| **Промпт-инжиниринг** | ✓ | ✓ | — | ✓✓ | Хорошее |
| **Надёжность/галлюцинации** | ✓ | ✓✓ | ✓ | ⚠️ | Хорошее |
| **Мультимодальность** | — | ⚠️ | ⚠️ | ⚠️ | Слабое |
| **RAG/Retrieval** | ⚠️ | ✓ | ✓ | ✓ | Среднее |
| **Безопасность** | ⚠️ | ✓✓ | ✓ | ⚠️ | Среднее |

**Легенда:**
✓✓ — отличное покрытие
✓ — хорошее покрытие
⚠️ — частичное покрытие
— — отсутствует

### 3.2 Выявленные пересечения
- Все документы согласны: спецификация задачи критична
- Все документы согласны: контекст-инжиниринг необходим
- Все документы согласны: галлюцинации требуют проверки
- Все документы согласны: заземление на источники важно

### 3.3 Выявленные gaps (предварительно)
1. **Мультимодальность:** детальная таксономия ошибок при работе с изображениями/видео
2. **RAG-архитектуры:** конкретные метрики и best practices
3. **Безопасность:** детальные протоколы тестирования на jailbreak
4. **Промпт-инжиниринг:** связь 58 техник с таксономией ошибок
5. **Количественные данные:** методологии измерения для F6-F13
6. **Практические примеры:** кейсы применения в разных доменах

---

## Следующие шаги
- [ ] Детальный gap-анализ по 6 направлениям
- [ ] Проверка гипотез H1-H3 (частично выполнено)
- [ ] Разработка стратегии синтеза
- [ ] Создание финальных артефактов
